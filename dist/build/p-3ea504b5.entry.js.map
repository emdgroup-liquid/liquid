{"version":3,"names":["ldSrLiveShadowCss","LdSrLive","handleInfo","event","this","infoSuffix","info","detail","handleAlert","alertSuffix","alert","render","h","role"],"sources":["../src/liquid/components/ld-sr-live/ld-sr-live.shadow.css?tag=ld-sr-live&encapsulation=shadow","../src/liquid/components/ld-sr-live/ld-sr-live.tsx"],"sourcesContent":[null,"import { Component, h, Listen, State } from '@stencil/core'\n\n/**\n * @virtualProp ref - reference to component\n */\n@Component({\n  tag: 'ld-sr-live',\n  styleUrl: 'ld-sr-live.shadow.css',\n  shadow: true,\n})\nexport class LdSrLive {\n  private infoSuffix: string\n  private alertSuffix: string\n\n  @State() info: string\n  @State() alert: string\n\n  @Listen('ldSrLiveInfo', {\n    target: 'window',\n    passive: true,\n  })\n  handleInfo(event: CustomEvent<string>) {\n    // MAGIC: the second “pseudo-empty” string contains a zero width space, which is required\n    // in order to repeat an alert message, without altering the printed message displayed on the screen.\n    this.infoSuffix = this.infoSuffix ? '' : '​'\n    this.info = event.detail + this.infoSuffix\n  }\n\n  @Listen('ldSrLiveAlert', {\n    target: 'window',\n    passive: true,\n  })\n  handleAlert(event: CustomEvent<string>) {\n    // MAGIC: the second “pseudo-empty” string contains a zero width space, which is required\n    // in order to repeat an alert message, without altering the printed message displayed on the screen.\n    this.alertSuffix = this.alertSuffix ? '' : '​'\n    this.alert = event.detail + this.alertSuffix\n  }\n\n  render() {\n    return (\n      <ld-sr-only>\n        <span\n          role=\"status\"\n          aria-live=\"polite\"\n          aria-relevant=\"all\"\n          aria-atomic=\"true\"\n        >\n          {this.info}\n        </span>\n        <span\n          role=\"alert\"\n          aria-live=\"polite\"\n          aria-relevant=\"all\"\n          aria-atomic=\"true\"\n        >\n          {this.alert}\n        </span>\n      </ld-sr-only>\n    )\n  }\n}\n"],"mappings":"2CAAA,MAAMA,EAAoB,G,MCUbC,EAAQ,M,kEAWnBC,WAAWC,GAGTC,KAAKC,WAAaD,KAAKC,WAAa,GAAK,IACzCD,KAAKE,KAAOH,EAAMI,OAASH,KAAKC,U,CAOlCG,YAAYL,GAGVC,KAAKK,YAAcL,KAAKK,YAAc,GAAK,IAC3CL,KAAKM,MAAQP,EAAMI,OAASH,KAAKK,W,CAGnCE,SACE,OACEC,EAAA,kBACEA,EAAA,QACEC,KAAK,SAAQ,YACH,SAAQ,gBACJ,MAAK,cACP,QAEXT,KAAKE,MAERM,EAAA,QACEC,KAAK,QAAO,YACF,SAAQ,gBACJ,MAAK,cACP,QAEXT,KAAKM,O"}