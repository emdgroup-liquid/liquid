{"version":3,"names":["ldSidenavScrollerInternalShadowCss","LdSidenavScrollerInternal","handleSidenavCollapsedChange","ev","target","this","sidenav","sidenavCollapsed","detail","collapsed","handleSidenavBreakpointChange","sidenavClosable","async","scrollContainer","el","hasShadowBottom","scrollTop","scrollHeight","clientHeight","hasShadowTop","smoothly","prefersReducedMotion","window","matchMedia","matches","scrollTo","top","behavior","err","componentWillLoad","closest","needsHRTop","querySelector","needsHRBottom","relative","componentDidLoad","setTimeout","updateShadows","render","cl","getClassNames","h","Host","class","onScroll","bind","onLdSidenavAccordionTransitionEnd","style","opacity","part","ldSidenavSeparatorShadowCss","LdSidenavSeparator","computeScaleXCollapsed","sidenavWidth","parseFloat","getComputedStyle","getPropertyValue","sidenavPaddingX","sidenavNavitemIconSize","updateStackToTop","toggleStackToTop","narrow","parentElement","includes","tagName","scaleXCollapsed","toString"],"sources":["../src/liquid/components/ld-sidenav/ld-sidenav-scroller-internal/ld-sidenav-scroller-internal.shadow.css?tag=ld-sidenav-scroller-internal&encapsulation=shadow","../src/liquid/components/ld-sidenav/ld-sidenav-scroller-internal/ld-sidenav-scroller-internal.tsx","../src/liquid/components/ld-sidenav/ld-sidenav-separator/ld-sidenav-separator.shadow.css?tag=ld-sidenav-separator&encapsulation=shadow","../src/liquid/components/ld-sidenav/ld-sidenav-separator/ld-sidenav-separator.tsx"],"sourcesContent":[":host {\n  --ld-scroll-shadow-height: 1.5rem;\n  --ld-scroll-shadow-intensity: 0.1;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  overflow: hidden auto;\n  overscroll-behavior: none;\n  padding-right: var(--ld-sp-32);\n  scrollbar-width: none;\n  width: 100%;\n\n  &::-webkit-scrollbar,\n  &::-webkit-scrollbar-thumb {\n    display: none;\n  }\n\n  ::slotted(ld-sidenav-navitem:first-child),\n  ::slotted(ld-sidenav-heading:first-child) {\n    margin-top: var(--ld-sidenav-padding-y);\n  }\n\n  ::slotted(ld-sidenav-navitem) {\n    margin-bottom: var(--ld-sidenav-padding-y);\n    will-change: opacity; /* prevents flickering on transition in Safari */\n  }\n\n  &(.ld-sidenav-scroller-internal--relative) {\n    position: relative;\n\n    .ld-sidenav-scroller-internal__hr-top,\n    .ld-sidenav-scroller-internal__hr-bottom {\n      position: sticky;\n    }\n  }\n\n  &(.ld-sidenav-scroller-internal--collapsed) {\n    .ld-sidenav-scroller-internal__shadow-top,\n    .ld-sidenav-scroller-internal__shadow-bottom {\n      transform: translateX(\n        calc(\n          var(--ld-sidenav-translate-x-direction) *\n            (50% - (0.5 * var(--ld-sidenav-width-collapsed)))\n        )\n      );\n    }\n  }\n}\n\n.ld-sidenav-scroller-internal__shadow-top,\n.ld-sidenav-scroller-internal__shadow-bottom {\n  position: sticky;\n  pointer-events: none;\n  height: 0;\n  width: 100%;\n  z-index: 1;\n  opacity: 0;\n  left: 0;\n  transition: opacity var(--ld-sidenav-transition-duration) linear,\n    transform var(--ld-sidenav-transition-duration) ease;\n\n  &::after {\n    content: '';\n    display: block;\n    width: 100%;\n    height: var(--ld-scroll-shadow-height);\n  }\n}\n\n.ld-sidenav-scroller-internal__shadow-top {\n  top: 0;\n\n  &::after {\n    background: radial-gradient(\n        farthest-side at 50% 0,\n        rgb(0, 0, 0, var(--ld-scroll-shadow-intensity)),\n        rgb(0, 0, 0, 0)\n      )\n      0 100% no-repeat;\n  }\n}\n\n.ld-sidenav-scroller-internal__shadow-bottom {\n  top: 100%;\n\n  &::after {\n    background: radial-gradient(\n        farthest-side at 50% 100%,\n        rgb(0, 0, 0, var(--ld-scroll-shadow-intensity)),\n        rgb(0, 0, 0, 0)\n      )\n      0 100% no-repeat;\n    transform: translateY(-100%);\n  }\n}\n\n.ld-sidenav-scroller-internal__hr-top,\n.ld-sidenav-scroller-internal__hr-bottom {\n  margin-top: 0;\n  margin-bottom: 0;\n  position: absolute;\n  width: calc(100% - 2 * var(--ld-sidenav-padding-x));\n}\n\n.ld-sidenav-scroller-internal__hr-top {\n  top: 0;\n}\n\n.ld-sidenav-scroller-internal__hr-bottom {\n  top: calc(100% - var(--ld-sp-1) * 1.5);\n}\n","import {\n  Component,\n  Element,\n  h,\n  Host,\n  Listen,\n  Method,\n  State,\n} from '@stencil/core'\nimport { getClassNames } from '../../../utils/getClassNames'\nimport { closest } from '../../../utils/closest'\n\n/** @internal **/\n@Component({\n  tag: 'ld-sidenav-scroller-internal',\n  styleUrl: 'ld-sidenav-scroller-internal.shadow.css',\n  shadow: true,\n})\nexport class LdSidenavScrollerInternal {\n  @Element() el: HTMLElement\n  private sidenav: HTMLLdSidenavElement\n\n  @State() hasShadowBottom = false\n  @State() hasShadowTop = false\n  @State() needsHRBottom: boolean\n  @State() needsHRTop: boolean\n  @State() relative: boolean\n  @State() sidenavClosable: boolean\n  @State() sidenavCollapsed: boolean\n\n  @Listen('ldSidenavCollapsedChange', { target: 'window', passive: true })\n  handleSidenavCollapsedChange(\n    ev: CustomEvent<{\n      collapsed: boolean\n      fully: boolean\n    }>\n  ) {\n    if (ev.target !== this.sidenav) return\n    this.sidenavCollapsed = ev.detail.collapsed\n  }\n\n  @Listen('ldSidenavBreakpointChange', { target: 'window', passive: true })\n  handleSidenavBreakpointChange(ev: CustomEvent<boolean>) {\n    if (ev.target !== this.sidenav) return\n    this.sidenavClosable = ev.detail\n  }\n\n  /**\n   * Makes shadows either appear or disappear on top and bottom of the\n   * scroll container, depending on the current scroll position.\n   */\n  @Method()\n  async updateShadows() {\n    const scrollContainer = this.el\n    if (!scrollContainer) return\n    this.hasShadowBottom =\n      scrollContainer.scrollTop <\n      scrollContainer.scrollHeight - scrollContainer.clientHeight - 10\n    this.hasShadowTop = scrollContainer.scrollTop > 10\n  }\n\n  /** Scrolls the scroll container to the top instantly. */\n  @Method()\n  async scrollToTop(smoothly = false) {\n    const prefersReducedMotion = window.matchMedia(\n      '(prefers-reduced-motion: reduce)'\n    ).matches\n    try {\n      this.el.scrollTo({\n        top: 0,\n        behavior: smoothly && !prefersReducedMotion ? 'smooth' : 'auto',\n      })\n    } catch (err) {\n      // js-dom seems to not know scrollTo - ignoring for now\n    }\n  }\n\n  componentWillLoad() {\n    this.sidenav = closest('ld-sidenav', this.el)\n    if (!this.sidenav) return\n\n    this.needsHRTop = !!this.sidenav.querySelector('[slot=\"top\"]')\n    this.needsHRBottom = !!this.sidenav.querySelector('[slot=\"bottom\"]')\n    this.relative = !this.sidenav.querySelector('ld-sidenav-slider')\n  }\n\n  componentDidLoad() {\n    setTimeout(() => {\n      this.updateShadows()\n    })\n  }\n\n  render() {\n    const cl = getClassNames([\n      'ld-sidenav-scroller-internal',\n      this.relative && 'ld-sidenav-scroller-internal--relative',\n      this.sidenavCollapsed &&\n        !this.sidenavClosable &&\n        'ld-sidenav-scroller-internal--collapsed',\n    ])\n\n    return (\n      <Host\n        class={cl}\n        onScroll={this.updateShadows.bind(this)}\n        onLdSidenavAccordionTransitionEnd={this.updateShadows.bind(this)}\n        data-needs-bottom={this.needsHRBottom}\n        data-needs-top={this.needsHRTop}\n      >\n        <div\n          class=\"ld-sidenav-scroller-internal__shadow-top\"\n          style={{ opacity: this.hasShadowTop ? '1' : '0' }}\n          part=\"shadow-top\"\n        ></div>\n        <div\n          class=\"ld-sidenav-scroller-internal__shadow-bottom\"\n          style={{ opacity: this.hasShadowBottom ? '1' : '0' }}\n          part=\"shadow-bottom\"\n        ></div>\n        {this.needsHRTop && (\n          <ld-sidenav-separator\n            class=\"ld-sidenav-scroller-internal__hr-top\"\n            style={{ opacity: this.hasShadowTop ? '0' : '1' }}\n          ></ld-sidenav-separator>\n        )}\n        {this.needsHRBottom && (\n          <ld-sidenav-separator\n            class=\"ld-sidenav-scroller-internal__hr-bottom\"\n            style={{ opacity: this.hasShadowBottom ? '0' : '1' }}\n          ></ld-sidenav-separator>\n        )}\n        <slot></slot>\n      </Host>\n    )\n  }\n}\n",":host {\n  display: block;\n  margin: 0 var(--ld-sidenav-padding-x) var(--ld-sidenav-padding-y);\n  transform-origin: left;\n  transition: transform var(--ld-sidenav-transition-duration-collapse-expand)\n    ease;\n\n  hr {\n    border: 0;\n    border-radius: var(--ld-br-full);\n    height: var(--ld-sp-2);\n    margin: 0;\n    transition: transform var(--ld-sidenav-transition-duration-collapse-expand)\n      ease;\n    background-color: var(--ld-sidenav-separator-line-bg-col);\n  }\n\n  &(.ld-sidenav-separator--collapsed) {\n    transform: translateX(var(--ld-sidenav-translate-x-delta))\n      scaleX(var(--ld-sidenav-separator-scale-x-collapsed));\n\n    hr {\n      transform: translateY(\n        var(\n          --ld-sidenav-navitem-move-up-closable,\n          var(--ld-sidenav-navitem-move-up, 0)\n        )\n      );\n      transition: var(--ld-sidenav-stack-to-top-transition);\n    }\n  }\n}\n","import { Component, Element, h, Host, Listen, State } from '@stencil/core'\nimport { getClassNames } from '../../../utils/getClassNames'\nimport { closest } from '../../../utils/closest'\nimport { toggleStackToTop } from '../utils/toggleStackToTop'\n\n/**\n * @virtualProp ref - reference to component\n * @virtualProp {string | number} key - for tracking the node's identity when working with lists\n */\n@Component({\n  tag: 'ld-sidenav-separator',\n  styleUrl: 'ld-sidenav-separator.shadow.css',\n  shadow: true,\n})\nexport class LdSidenavSeparator {\n  @Element() el: HTMLElement\n  private sidenav: HTMLLdSidenavElement\n\n  @State() sidenavCollapsed: boolean\n  @State() sidenavClosable: boolean\n  @State() scaleXCollapsed = 1\n\n  @Listen('ldSidenavCollapsedChange', { target: 'window', passive: true })\n  handleSidenavCollapsedChange(\n    ev: CustomEvent<{\n      collapsed: boolean\n      fully: boolean\n    }>\n  ) {\n    if (ev.target !== this.sidenav) return\n    this.sidenavCollapsed = ev.detail.collapsed\n    if (\n      this.el.parentElement &&\n      !['LD-SIDENAV-SLIDER', 'LD-SIDENAV-SUBNAV'].includes(\n        this.el.parentElement.tagName\n      )\n    ) {\n      return\n    }\n    if (this.sidenav.narrow) {\n      toggleStackToTop(this.el, this.sidenavCollapsed)\n    }\n  }\n\n  @Listen('ldSidenavBreakpointChange', { target: 'window', passive: true })\n  handleSidenavBreakpointChange(ev: CustomEvent<boolean>) {\n    if (ev.target !== this.sidenav) return\n    this.sidenavClosable = ev.detail\n    this.updateStackToTop()\n  }\n\n  private computeScaleXCollapsed = () => {\n    const sidenavWidth = parseFloat(\n      window\n        .getComputedStyle(this.sidenav)\n        .getPropertyValue('--ld-sidenav-width')\n    )\n    const sidenavPaddingX = parseFloat(\n      window\n        .getComputedStyle(this.sidenav)\n        .getPropertyValue('--ld-sidenav-padding-x')\n    )\n    const sidenavNavitemIconSize = parseFloat(\n      window\n        .getComputedStyle(this.sidenav)\n        .getPropertyValue('--ld-sidenav-navitem-icon-size')\n    )\n    return sidenavNavitemIconSize / (sidenavWidth - 2 * sidenavPaddingX)\n  }\n\n  private updateStackToTop = () => {\n    if (this.sidenavClosable) {\n      toggleStackToTop(this.el, false)\n    } else {\n      toggleStackToTop(this.el, this.sidenav.narrow && this.sidenavCollapsed)\n    }\n  }\n\n  componentWillLoad() {\n    this.sidenav = closest('ld-sidenav', this.el)\n    if (this.sidenav) {\n      this.scaleXCollapsed = this.computeScaleXCollapsed() || 1\n      this.sidenavCollapsed = this.sidenav.collapsed\n    }\n  }\n\n  componentDidLoad() {\n    // The ldSidenavCollapsedChange event can be fired before this component is loaded.\n    // So we need to update the stacking here.\n    setTimeout(() => {\n      this.updateStackToTop()\n    })\n  }\n\n  render() {\n    const cl = getClassNames([\n      'ld-sidenav-separator',\n      this.sidenavCollapsed &&\n        !this.sidenavClosable &&\n        'ld-sidenav-separator--collapsed',\n    ])\n\n    return (\n      <Host\n        style={{\n          '--ld-sidenav-separator-scale-x-collapsed':\n            this.scaleXCollapsed.toString(),\n        }}\n        class={cl}\n      >\n        <hr part=\"hr\" />\n      </Host>\n    )\n  }\n}\n"],"mappings":"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"}