import{r as t,c as i,h as e,F as s,H as r,g as l}from"./p-e55c60b3.js";import{g as d}from"./p-891005fd.js";const a=(t,i)=>t.length?t.reduce(((t,e)=>Math.abs(e-i)<Math.abs(t-i)?e:t)):i;let o=0;const h=class{constructor(e){t(this,e),this.ldchange=i(this,"ldchange",7),this.idPrefix="ld-slider-"+ ++o,this.disabled=!1,this.hideStopLabels=!1,this.hideValueLabels=!1,this.hideValues=!1,this.indicators=!1,this.labelFrom="From",this.labelTo="To",this.labelValue="Value",this.max=100,this.min=0,this.negative=!1,this.swappable=!1,this.value=String(this.min),this.width="100%",this.valueLabels=[],this.steps=[],this.values=[],this.handleTrackClick=t=>{if(t.composedPath()[0]!==this.el)return;const i=getComputedStyle(this.el,"after"),e=Number.parseInt(getComputedStyle(this.el).paddingLeft)||0,s=Number.parseInt(i.marginLeft)||0,r=Number.parseInt(i.width),l=Math.round((t.offsetX-e-s)/r*(this.max-this.min))+this.min,d=[...this.values],o=d.indexOf(a(d,l)),h=this.getCorrectedValue(l,o,d);d.splice(o,1,h),this.value=d.join(",")},this.handleInput=(t,i)=>{const e=t.target;if("true"===this.ariaDisabled)return void(e.value=String(this.values[i]));const s=Number.parseInt(e.value,10),r=[...this.values],l=this.getCorrectedValue(s,i,r,!0);r[i]=l,l!==s&&(e.value=String(l));const d=r.join(",");this.value!==d&&(this.value=r.join(","))},this.handleKeyDown=(t,i)=>{const e=t.target;if("true"===this.ariaDisabled)return void(e.value=String(this.values[i]));const s=Number.parseInt(e.value,10),r=[...this.values];let l;if(this.stops&&!this.snapOffset)switch(t.key){case"ArrowDown":case"ArrowLeft":l=((t,i)=>a(this.steps.filter((t=>t<i)),i))(0,s);break;case"ArrowRight":case"ArrowUp":l=((t,i)=>a(this.steps.filter((t=>t>i)),i))(0,s)}else if(this.snapOffset)switch(t.key){case"ArrowDown":case"ArrowLeft":l=s-1;break;case"ArrowRight":case"ArrowUp":l=s+1}if(void 0===l)return;t.preventDefault();const d=this.getCorrectedValue(l,i,r);if(d===s)return;r[i]=d,e.value=String(d);const o=r.join(",");this.value!==o&&(this.value=r.join(","))},this.getCorrectedValue=(t,i,e,s=!1)=>{const r=e[i-1],l=e[i+1];if(t<this.min)return this.min;if(t>this.max)return this.max;if(!this.swappable&&r>t)return r;if(!this.swappable&&l<t)return l;if(s&&void 0!==this.snapOffset){const i=this.steps.find((i=>t<=i+this.snapOffset&&t>=i-this.snapOffset));return null!=i?i:t}return this.steps.length&&void 0===this.snapOffset?a(this.steps,t):t},this.validateValue=(t,i,e)=>t===this.getCorrectedValue(t,i,e),this.correctValues=t=>{const i=t.map(this.getCorrectedValue);return i.every(this.validateValue)?i:this.correctValues(i)},this.updateValues=(t=!1)=>{const i=this.value.split(",").map((t=>Number.parseInt(t,10)));return i.every(this.validateValue)?(this.values=i,!0):(t&&(this.value=this.correctValues(i).join(",")),!1)}}async focusInner(){var t;null===(t=this.firstSliderRef)||void 0===t||t.focus({preventScroll:!0})}updateState(){this.steps=this.stops?[this.min,...this.stops.split(",").map((t=>Number.parseInt(t,10))),this.max]:this.step?Array(Math.floor((this.max-this.min)/this.step)+1).fill(this.min).map(((t,i)=>t+i*this.step)):[],this.valueLabels=this.stops?[...this.steps]:[this.min,this.max]}handleValueChange(){this.updateValues()&&this.ldchange.emit(this.values)}componentWillLoad(){this.updateState(),this.updateValues(!0)}render(){const t=this.values.reduce(((t,i,e)=>(t[`--value${e}`]=i,t)),{});return e(r,{class:d(["ld-slider",this.hideValueLabels&&"ld-slider--padded",this.size&&`ld-slider--${this.size}`]),onClick:this.handleTrackClick,role:"group",style:Object.assign(Object.assign({},t),{"--ld-slider-width":this.width,"--min":String(this.min),"--max":String(this.max),"--fill":(this.negative?"\nlinear-gradient(\n  90deg,\n  red 100%,\n  transparent 0\n),":"")+this.values.map(((t,i)=>`\nlinear-gradient(\n  90deg,\n  red\n    calc(\n      var(--ld-slider-radius) - var(--ld-slider-track-margin) +\n        (var(--value${i}) - var(--min)) / var(--ld-slider-diff) *\n        (var(--ld-slider-useful-width)${"100%"===this.width?" + 2 * var(--ld-slider-track-margin)":""})\n    ),\n  transparent 0\n)`)).join(",")})},this.values.map(((t,i)=>{var r;return e(s,null,e("ld-sr-only",{id:`${this.idPrefix}-label-${i}`,key:`label-${i}`,part:"label"},2===this.values.length?0===i?this.labelFrom:this.labelTo:`${this.labelValue} ${i+1}`),e("input",{"aria-disabled":this.disabled||"true"===this.ariaDisabled?"true":void 0,"aria-labelledby":`${this.idPrefix}-label-${i}`,"aria-valuetext":this.unit?t+this.unit:void 0,class:"ld-slider__input",disabled:this.disabled,id:`${this.idPrefix}-value-${i}`,key:`input-${i}`,max:this.max,min:this.min,onInput:t=>this.handleInput(t,i),onKeyDown:t=>this.handleKeyDown(t,i),part:"input focusable",ref:0===i?t=>{this.firstSliderRef=t}:void 0,step:void 0!==this.snapOffset?void 0:this.step,style:t===this.max&&this.values[i-1]===this.max?{zIndex:"2"}:void 0,tabindex:this.ldTabindex,type:"range",value:t}),e("output",{class:d(["ld-slider__output",!this.hideValues&&"ld-slider__output--permanent"]),htmlFor:`${this.idPrefix}-value-${i}`,key:`output-${i}`,part:"output",style:{"--now":`var(--value${i})`,"--unit":`"${null!==(r=this.unit)&&void 0!==r?r:""}"`}}))})),this.indicators&&this.steps.map((t=>e("div",{class:"ld-slider__indicator",key:`indicator-${t}`,part:"indicator",style:{"--now":String(t)}}))),!this.hideValueLabels&&this.valueLabels.map(((t,i)=>(0===i||i===this.valueLabels.length-1||!this.hideStopLabels)&&e("div",{class:d(["ld-slider__value-label",0===i&&"ld-slider__value-label--first",i===this.valueLabels.length-1&&"ld-slider__value-label--last"]),key:`value-label-${t}`,part:"value-label",style:{"--now":String(t)}},t,this.unit))))}get el(){return l(this)}static get watchers(){return{max:["updateState"],min:["updateState"],step:["updateState"],stops:["updateState"],value:["handleValueChange"]}}};h.style=':host{--ld-slider-disabled-thumb-box-shadow:0 0 0 #0000;--ld-slider-thumb-box-shadow:var(--ld-slider-thumb-box-shadow-default);--ld-slider-thumb-box-shadow-default:var(--ld-shadow-stacked);--ld-slider-thumb-box-shadow-active:var(--ld-slider-thumb-box-shadow-default),0 0 0 var(--ld-sp-6) var(--ld-thm-primary-alpha-lowest);--ld-slider-thumb-box-shadow-hover:var(--ld-slider-thumb-box-shadow-default),0 0 0 var(--ld-sp-4) var(--ld-thm-primary-alpha-lowest);--ld-slider-thumb-size:var(--ld-slider-thumb-size-md);--ld-slider-thumb-size-sm:var(--ld-sp-24);--ld-slider-thumb-size-md:var(--ld-sp-32);--ld-slider-thumb-size-lg:var(--ld-sp-40);--ld-slider-diff:calc(var(--max) - var(--min));--ld-slider-indicator-size:var(--ld-sp-6);--ld-slider-track-margin:calc((var(--ld-slider-thumb-size) - var(--ld-slider-indicator-size))/2 - 0.0625rem);--ld-slider-radius:calc(var(--ld-slider-thumb-size)/2);--ld-slider-useful-width:calc(var(--ld-slider-width) - var(--ld-slider-thumb-size));--ld-slider-thumb-col:var(--ld-col-wht);--ld-slider-disabled-thumb-col:var(--ld-col-neutral-200);--ld-slider-selected-col:var(--ld-slider-selected-col-default);--ld-slider-selected-col-default:var(--ld-thm-primary);--ld-slider-disabled-selected-col:var(--ld-col-neutral-200);--ld-slider-animation-duration:0s}@media (prefers-reduced-motion:no-preference){:host{--ld-slider-animation-duration:0.15s}}:host{display:grid;font:var(--ld-typo-body-xs);grid-template-rows:max-content var(--ld-slider-thumb-size) max-content;min-width:var(--ld-slider-width);pointer-events:none;position:relative;width:var(--ld-slider-width);z-index:0}:host:after,:host:before{align-self:center;background:var(--ld-col-neutral-100);border-radius:var(--ld-slider-radius);content:"";grid-column:1;grid-row:2;height:var(--ld-sp-8);margin:0 var(--ld-slider-track-margin);will-change:transform}:host:after{background:var(--ld-slider-selected-col);cursor:pointer;-webkit-mask:var(--fill);mask:var(--fill);-webkit-mask-composite:xor;mask-composite:exclude;pointer-events:auto}:host([aria-disabled=true]),:host([disabled]){--ld-slider-selected-col:var(--ld-slider-disabled-selected-col);--ld-slider-thumb-box-shadow-default:var(\n      --ld-slider-disabled-thumb-box-shadow\n    );--ld-slider-thumb-col:var(--ld-slider-disabled-thumb-col)}:host([aria-disabled=true]):after,:host([disabled]):after{pointer-events:none}:host([aria-disabled=true]) .ld-slider__input,:host([disabled]) .ld-slider__input{opacity:1}:host([aria-disabled=true]) .ld-slider__input::-webkit-slider-thumb,:host([disabled]) .ld-slider__input::-webkit-slider-thumb{pointer-events:none;transform:scale(.66667)}:host([aria-disabled=true]) .ld-slider__input::-moz-range-thumb,:host([disabled]) .ld-slider__input::-moz-range-thumb{pointer-events:none;transform:scale(.66667)}:host([aria-disabled=true]) .ld-slider__input:focus+.ld-slider__output--permanent:after,:host([disabled]) .ld-slider__input:focus+.ld-slider__output--permanent:after{color:var(--ld-slider-selected-col-default)}:host([aria-disabled=true]) .ld-slider__input:focus:not(:focus-visible)+.ld-slider__output--permanent:after,:host([disabled]) .ld-slider__input:focus:not(:focus-visible)+.ld-slider__output--permanent:after{color:inherit}:host(.ld-slider--padded){padding-bottom:var(--ld-sp-6)}:host(.ld-slider--sm){--ld-slider-thumb-size:var(--ld-slider-thumb-size-sm)}:host(.ld-slider--lg){--ld-slider-thumb-size:var(--ld-slider-thumb-size-lg)}:host *{--ld-slider-highlighted:0;font:inherit;margin:0}:host .ld-slider__input,:host .ld-slider__input::-webkit-slider-runnable-track,:host .ld-slider__input::-webkit-slider-thumb{-webkit-appearance:none}:host .ld-slider__input{background:none;cursor:grab;grid-column:1;grid-row:2;left:0;top:0;z-index:calc(3 + var(--ld-slider-highlighted))}:host .ld-slider__input::-webkit-slider-runnable-track{background:none;height:100%;width:100%}:host .ld-slider__input::-moz-range-track{background:none;height:100%;width:100%;z-index:2}:host .ld-slider__input::-webkit-slider-thumb{background:var(--ld-slider-thumb-col);border:none;border-radius:var(--ld-br-full);box-shadow:var(--ld-slider-thumb-box-shadow);box-sizing:border-box;height:var(--ld-slider-thumb-size);pointer-events:auto;width:var(--ld-slider-thumb-size);will-change:transform}:host .ld-slider__input::-moz-range-thumb{background:var(--ld-slider-thumb-col);border:none;border-radius:var(--ld-br-full);box-shadow:var(--ld-slider-thumb-box-shadow);box-sizing:border-box;height:var(--ld-slider-thumb-size);pointer-events:auto;width:var(--ld-slider-thumb-size);will-change:transform}:host .ld-slider__input:active,:host .ld-slider__input:focus-visible{outline:none}:host .ld-slider__input:active+output,:host .ld-slider__input:focus-visible+output{--ld-slider-highlighted:1}:host .ld-slider__input:focus,:host .ld-slider__input:hover{--ld-slider-thumb-box-shadow:var(--ld-slider-thumb-box-shadow-hover)}:host .ld-slider__input:active{--ld-slider-thumb-box-shadow:var(--ld-slider-thumb-box-shadow-active);cursor:grabbing;outline:none;z-index:4}:host .ld-slider__input:not(:active):not(:focus-visible):not(:hover){--ld-slider-thumb-box-shadow:var(--ld-slider-thumb-box-shadow-default)}:host .ld-slider__indicator,:host .ld-slider__output,:host .ld-slider__value-label{grid-column:1;left:calc((var(--now) - var(--min))/var(--ld-slider-diff)*var(--ld-slider-useful-width) + var(--ld-slider-radius));max-width:max-content;position:relative}:host .ld-slider__indicator{aspect-ratio:1;-webkit-backdrop-filter:brightness(.6) invert(1) hue-rotate(180deg);backdrop-filter:brightness(.6) invert(1) hue-rotate(180deg);border-radius:var(--ld-br-full);grid-row:2;height:var(--ld-slider-indicator-size);opacity:.5;top:var(--ld-slider-radius);transform:translate(-50%,-50%);z-index:1}:host .ld-slider__value-label{grid-row:3;transform:translate(-50%)}:host .ld-slider__value-label--first{left:var(--ld-slider-track-margin);transform:none}:host .ld-slider__value-label--last{left:auto;position:absolute;right:var(--ld-slider-track-margin);transform:none}:host .ld-slider__output{color:var(--ld-col-wht);content:counter(now) var(--unit);counter-reset:now var(--now);font-weight:700;grid-row:1;margin-bottom:var(--ld-sp-16);opacity:var(--ld-slider-highlighted);transform:translate(-50%) scale(max(.8,var(--ld-slider-highlighted)));transition:opacity var(--ld-slider-animation-duration) ease-out,transform var(--ld-slider-animation-duration) ease-out}:host .ld-slider__output:before{background:var(--ld-slider-selected-col);border-radius:var(--ld-br-m);content:"";inset:0;position:absolute;z-index:-1}:host .ld-slider__output:after{content:counter(now) var(--unit);counter-reset:now var(--now);display:block;padding:0 var(--ld-sp-6)}:host .ld-slider__output--permanent{color:var(--ld-slider-selected-col);opacity:1;transform:translate(-50%,calc((var(--ld-slider-highlighted) - 1)*var(--ld-sp-12)*-1));transition:transform var(--ld-slider-animation-duration) ease-out}:host .ld-slider__output--permanent:before{opacity:var(--ld-slider-highlighted);transition:opacity var(--ld-slider-animation-duration) ease-out}:host .ld-slider__output--permanent:after{filter:invert(var(--ld-slider-highlighted)) grayscale(var(--ld-slider-highlighted)) contrast(max(1,calc(var(--ld-slider-highlighted)*4)))}';export{h as ld_slider}