.ld-checkbox {
  --ld-checkbox-size: 1.25rem;
  position: relative;
  display: inline-flex;
  flex-shrink: 0;
  width: var(--ld-checkbox-size);
  height: var(--ld-checkbox-size);
  min-width: auto !important;

  input {
    appearance: none;
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: 1;
    width: 100%;
    height: 100%;

    &:checked {
      ~ .ld-checkbox__check {
        visibility: inherit;
      }
    }

    &:where(:disabled),
    &:where([aria-disabled]) {
      ~ .ld-checkbox__check {
        color: var(--ld-col-rblck2);
      }
      ~ .ld-checkbox__box {
        background-color: transparent;
        box-shadow: inset 0 0 0 0.1rem var(--ld-col-rblck1);
      }

      &:checked {
        ~ .ld-checkbox__box {
          background-color: var(--ld-col-rblck1);
        }
      }
    }

    &:where(:not(:disabled):not([aria-disabled='true'])) {
      cursor: pointer;
    }
  }
}

.ld-checkbox__check {
  visibility: hidden;
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  pointer-events: none;
  z-index: 1;
}

.ld-checkbox__box {
  position: absolute;
  width: 100%;
  height: 100%;
  pointer-events: none;
  box-shadow: inset 0 0 0 0.1rem var(--ld-col-rblck4);
}

.ld-checkbox,
.ld-checkbox__box {
  border-radius: var(--ld-br-m);
}

/* .ld-theme-ocean -> default */
.ld-checkbox,
.ld-theme-ocean .ld-checkbox,
[class*='ld-theme'] .ld-theme-ocean .ld-checkbox {
  :where(input:not(:disabled):not(input[aria-disabled='true'])) {
    ~ .ld-checkbox__box {
      background-color: var(--ld-col-wht);
    }
  }
  &.ld-checkbox--dark {
    &:hover {
      input:not(:disabled):not(input[aria-disabled='true']):not(:checked) {
        ~ .ld-checkbox__box {
          background-color: var(--ld-col-rblck1);
        }
      }
    }

    input:not(:disabled):not(input[aria-disabled='true']):not(:checked) {
      ~ .ld-checkbox__box {
        background-color: var(--ld-col-bg-g);
      }

      &:active,
      &:active:focus-visible {
        ~ .ld-checkbox__box {
          background-color: var(--ld-col-rblck2);
        }
      }
    }
  }

  @media (hover: hover) {
    &:hover {
      :where(input:not(:disabled):not(input[aria-disabled='true']))
        ~ .ld-checkbox__box {
        background-color: var(--ld-col-bg-lg);
        box-shadow: inset 0 0 0 0.1rem var(--ld-col-rb-hover);
      }
    }
  }

  input:where(:not(:disabled):not([aria-disabled='true'])) {
    ~ .ld-checkbox__check {
      color: var(--ld-col-rb-active);
    }
    ~ .ld-checkbox__box {
      box-shadow: inset 0 0 0 0.1rem var(--ld-col-rb-default);
    }

    &:focus:focus-visible {
      ~ .ld-checkbox__box {
        background-color: transparent;
        box-shadow: inset 0 0 0 0.1rem var(--ld-col-rb-focus);
      }
    }
    &:active,
    &:active:focus-visible {
      ~ .ld-checkbox__box {
        background-color: var(--ld-col-bg-g);
        box-shadow: inset 0 0 0 0.1rem var(var(--ld-col-rb-active));
      }
    }

    &:checked {
      ~ .ld-checkbox__check {
        color: var(--ld-col-wht);
      }
      ~ .ld-checkbox__box {
        background-color: var(--ld-col-rb-default);
        box-shadow: inset 0 0 0 0.1rem var(--ld-col-rb-default);
      }

      &:focus:focus-visible {
        ~ .ld-checkbox__check {
          color: var(--ld-col-rb-active);
        }
        ~ .ld-checkbox__box {
          background-color: var(--ld-col-rb-focus);
          box-shadow: inset 0 0 0 0.1rem var(--ld-col-rb-focus);
        }
      }
      @media (hover: hover) {
        &:hover {
          ~ .ld-checkbox__check {
            color: var(--ld-col-bg-lg);
          }
          ~ .ld-checkbox__box {
            background-color: var(--ld-col-rb-hover);
            box-shadow: inset 0 0 0 0.1rem var(--ld-col-rb-hover);
          }
        }
      }
      &:active,
      &:active:focus-visible {
        ~ .ld-checkbox__check {
          color: var(--ld-col-bg-g);
        }
        ~ .ld-checkbox__box {
          background-color: var(--ld-col-rb-active);
          box-shadow: inset 0 0 0 0.1rem var(--ld-col-rb-active);
        }
      }
    }
  }
}

.ld-theme-bubblegum,
[class*='ld-theme'] .ld-theme-bubblegum,
.ld-theme-shake,
[class*='ld-theme'] .ld-theme-shake,
.ld-theme-solvent,
[class*='ld-theme'] .ld-theme-solvent {
  :where(.ld-checkbox) {
    @media (hover: hover) {
      &:hover {
        :where(input:not(:disabled):not(input[aria-disabled='true']))
          ~ .ld-checkbox__box {
          background-color: var(--ld-col-bg-lg);
          box-shadow: inset 0 0 0 0.1rem var(--ld-col-rp-hover);
        }
      }
    }

    input:where(:not(:disabled):not([aria-disabled='true'])) {
      ~ .ld-checkbox__check {
        color: var(--ld-col-rp-active);
      }
      ~ .ld-checkbox__box {
        box-shadow: inset 0 0 0 0.1rem var(--ld-col-rp-default);
      }

      &:focus:focus-visible {
        ~ .ld-checkbox__box {
          background-color: transparent;
          box-shadow: inset 0 0 0 0.1rem var(--ld-col-rp-focus);
        }
      }
      &:active,
      &:active:focus-visible {
        ~ .ld-checkbox__box {
          background-color: var(--ld-col-bg-g);
          box-shadow: inset 0 0 0 0.1rem var(var(--ld-col-rp-active));
        }
      }

      &:checked {
        ~ .ld-checkbox__check {
          color: var(--ld-col-wht);
        }
        ~ .ld-checkbox__box {
          background-color: var(--ld-col-rp-default);
          box-shadow: inset 0 0 0 0.1rem var(--ld-col-rp-default);
        }

        &:focus:focus-visible {
          ~ .ld-checkbox__check {
            color: var(--ld-col-rp-active);
          }
          ~ .ld-checkbox__box {
            background-color: var(--ld-col-rp-focus);
            box-shadow: inset 0 0 0 0.1rem var(--ld-col-rp-focus);
          }
        }
        @media (hover: hover) {
          &:hover {
            ~ .ld-checkbox__check {
              color: var(--ld-col-bg-lg);
            }
            ~ .ld-checkbox__box {
              background-color: var(--ld-col-rp-hover);
              box-shadow: inset 0 0 0 0.1rem var(--ld-col-rp-hover);
            }
          }
        }
        &:active,
        &:active:focus-visible {
          ~ .ld-checkbox__check {
            color: var(--ld-col-bg-g);
          }
          ~ .ld-checkbox__box {
            background-color: var(--ld-col-rp-active);
            box-shadow: inset 0 0 0 0.1rem var(--ld-col-rp-active);
          }
        }
      }
    }
  }
}

.ld-theme-tea,
[class*='ld-theme'] .ld-theme-tea {
  :where(.ld-checkbox) {
    @media (hover: hover) {
      &:hover {
        :where(input:not(:disabled):not(input[aria-disabled='true']))
          ~ .ld-checkbox__box {
          background-color: var(--ld-col-bg-lg);
          box-shadow: inset 0 0 0 0.1rem var(--ld-col-rg-hover);
        }
      }
    }

    input:where(:not(:disabled):not([aria-disabled='true'])) {
      ~ .ld-checkbox__check {
        color: var(--ld-col-rg-active);
      }
      ~ .ld-checkbox__box {
        box-shadow: inset 0 0 0 0.1rem var(--ld-col-rg-default);
      }

      &:focus:focus-visible {
        ~ .ld-checkbox__box {
          background-color: transparent;
          box-shadow: inset 0 0 0 0.1rem var(--ld-col-rg-focus);
        }
      }
      &:active,
      &:active:focus-visible {
        ~ .ld-checkbox__box {
          background-color: var(--ld-col-bg-g);
          box-shadow: inset 0 0 0 0.1rem var(var(--ld-col-rg-active));
        }
      }

      &:checked {
        ~ .ld-checkbox__check {
          color: var(--ld-col-wht);
        }
        ~ .ld-checkbox__box {
          background-color: var(--ld-col-rg-default);
          box-shadow: inset 0 0 0 0.1rem var(--ld-col-rg-default);
        }

        &:focus:focus-visible {
          ~ .ld-checkbox__check {
            color: var(--ld-col-rg-active);
          }
          ~ .ld-checkbox__box {
            background-color: var(--ld-col-rg-focus);
            box-shadow: inset 0 0 0 0.1rem var(--ld-col-rg-focus);
          }
        }
        @media (hover: hover) {
          &:hover {
            ~ .ld-checkbox__check {
              color: var(--ld-col-bg-lg);
            }
            ~ .ld-checkbox__box {
              background-color: var(--ld-col-rg-hover);
              box-shadow: inset 0 0 0 0.1rem var(--ld-col-rg-hover);
            }
          }
        }
        &:active,
        &:active:focus-visible {
          ~ .ld-checkbox__check {
            color: var(--ld-col-bg-g);
          }
          ~ .ld-checkbox__box {
            background-color: var(--ld-col-rg-active);
            box-shadow: inset 0 0 0 0.1rem var(--ld-col-rg-active);
          }
        }
      }
    }
  }
}

.ld-checkbox--highlight,
[class*='ld-theme'] .ld-checkbox--highlight,
[class*='ld-theme'] [class*='ld-theme'] .ld-checkbox--highlight {
  @media (hover: hover) {
    &:hover {
      :where(input:not(:disabled):not(input[aria-disabled='true']))
        ~ .ld-checkbox__box {
        background-color: var(--ld-col-bg-lg);
        box-shadow: inset 0 0 0 0.1rem var(--ld-col-vy-hover);
      }
    }
  }

  input:where(:not(:disabled):not([aria-disabled='true'])) {
    ~ .ld-checkbox__check {
      color: var(--ld-col-vy-active);
    }
    ~ .ld-checkbox__box {
      box-shadow: inset 0 0 0 0.1rem var(--ld-col-vy-default);
    }

    &:focus:focus-visible {
      ~ .ld-checkbox__box {
        background-color: transparent;
        box-shadow: inset 0 0 0 0.1rem var(--ld-col-vy-focus);
      }
    }
    &:active,
    &:active:focus-visible {
      ~ .ld-checkbox__box {
        background-color: var(--ld-col-bg-g);
        box-shadow: inset 0 0 0 0.1rem var(var(--ld-col-vy-active));
      }
    }

    &:checked {
      ~ .ld-checkbox__check {
        color: var(--ld-col-vy-active);
      }
      ~ .ld-checkbox__box {
        background-color: var(--ld-col-vy-default);
        box-shadow: inset 0 0 0 0.1rem var(--ld-col-vy-default);
      }

      &:focus:focus-visible {
        ~ .ld-checkbox__check {
          color: var(--ld-col-vy-active);
        }
        ~ .ld-checkbox__box {
          background-color: var(--ld-col-vy-focus);
          box-shadow: inset 0 0 0 0.1rem var(--ld-col-vy-focus);
        }
      }
      @media (hover: hover) {
        &:hover {
          ~ .ld-checkbox__check {
            color: var(--ld-col-vy-active);
          }
          ~ .ld-checkbox__box {
            background-color: var(--ld-col-vy-hover);
            box-shadow: inset 0 0 0 0.1rem var(--ld-col-vy-hover);
          }
        }
      }
      &:active,
      &:active:focus-visible {
        ~ .ld-checkbox__check {
          color: var(--ld-col-vy4);
        }
        ~ .ld-checkbox__box {
          background-color: var(--ld-col-vy-active);
          box-shadow: inset 0 0 0 0.1rem var(--ld-col-vy-active);
        }
      }
    }
  }
}

.ld-checkbox--invalid,
[class*='ld-theme'] .ld-checkbox--invalid,
[class*='ld-theme'] [class*='ld-theme'] .ld-checkbox--invalid,
.ld-checkbox--danger,
[class*='ld-theme'] .ld-checkbox--danger,
[class*='ld-theme'] [class*='ld-theme'] .ld-checkbox--danger {
  :where(input:not(:disabled):not(input[aria-disabled='true'])) {
    ~ .ld-checkbox__box {
      background-color: var(--ld-col-rr1);
    }
  }

  @media (hover: hover) {
    &:hover {
      :where(input:not(:disabled):not(input[aria-disabled='true']))
        ~ .ld-checkbox__box {
        background-color: var(--ld-col-rr1);
        box-shadow: inset 0 0 0 0.1rem var(--ld-col-rr-hover);
      }
    }
  }

  input:where(:not(:disabled):not([aria-disabled='true'])) {
    ~ .ld-checkbox__check {
      color: var(--ld-col-rr-active);
    }
    ~ .ld-checkbox__box {
      box-shadow: inset 0 0 0 0.1rem var(--ld-col-rr-default);
    }

    &:focus:focus-visible {
      ~ .ld-checkbox__box {
        background-color: var(--ld-col-rr1);
        box-shadow: inset 0 0 0 0.1rem var(--ld-col-rr-focus);
      }
    }
    &:active,
    &:active:focus-visible {
      ~ .ld-checkbox__box {
        background-color: var(--ld-col-rr1);
        box-shadow: inset 0 0 0 0.1rem var(var(--ld-col-rr-active));
      }
    }

    &:checked {
      ~ .ld-checkbox__check {
        color: var(--ld-col-wht);
      }
      ~ .ld-checkbox__box {
        background-color: var(--ld-col-rr-default);
        box-shadow: inset 0 0 0 0.1rem var(--ld-col-rr-default);
      }

      &:focus:focus-visible {
        ~ .ld-checkbox__check {
          color: var(--ld-col-rr-active);
        }
        ~ .ld-checkbox__box {
          background-color: var(--ld-col-rr-focus);
          box-shadow: inset 0 0 0 0.1rem var(--ld-col-rr-focus);
        }
      }
      @media (hover: hover) {
        &:hover {
          ~ .ld-checkbox__check {
            color: var(--ld-col-bg-lg);
          }
          ~ .ld-checkbox__box {
            background-color: var(--ld-col-rr-hover);
            box-shadow: inset 0 0 0 0.1rem var(--ld-col-rr-hover);
          }
        }
      }
      &:active,
      &:active:focus-visible {
        ~ .ld-checkbox__check {
          color: var(--ld-col-bg-g);
        }
        ~ .ld-checkbox__box {
          background-color: var(--ld-col-rr-active);
          box-shadow: inset 0 0 0 0.1rem var(--ld-col-rr-active);
        }
      }
    }
  }
}
