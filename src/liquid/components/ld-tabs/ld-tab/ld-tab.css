:host {
  ----ld-tab-bg-color-active: var(
    --ld-tab-bg-color-active,
    var(--ld-col-rblck2)
  );
  ----ld-tab-bg-color-focus: var(--ld-tab-bg-color-focus, var(--ld-col-rblck4));
  ----ld-tab-bg-color-focus-disabled: var(
    --ld-tab-bg-color-focus-disabled,
    var(--ld-col-rblck3)
  );
  ----ld-tab-bg-color-hover: var(--ld-tab-bg-color-hover, var(--ld-col-rblck1));
  ----ld-tab-bg-color: var(--ld-tab-bg-color, var(--ld-col-bg-lg));
  ----ld-tab-color-disabled: var(
    --ld-tab-color-disabled,
    var(--ld-col-rblck-default)
  );
  ----ld-tab-color-focus: var(--ld-tab-color-focus, var(--ld-col-rblck1));
  ----ld-tab-color-focus-disabled: var(
    --ld-tab-color-focus-disabled,
    var(--ld-col-wht)
  );
  ----ld-tab-color: var(--ld-tab-color, var(--ld-col-rblck-default));
  ----ld-tab-font: var(--ld-tab-font, var(--ld-typo-body-m));
  ----ld-tab-gap: var(--ld-tab-gap, 0.625rem);
  ----ld-tab-icon-size: var(--ld-tab-icon-size, 1.25rem);
  ----ld-tab-min-height: var(--ld-tab-min-height, 2.5rem);
  ----ld-tab-opacity-disabled: var(--ld-tab-opacity-disabled, 1);
  ----ld-tab-content-opacity-disabled: var(
    --ld-tab-content-opacity-disabled,
    0.25
  );
  ----ld-tab-padding-x: var(--ld-tab-padding-x, 0.875rem);
  ----ld-tab-padding-y: var(--ld-tab-padding-y, 0.75rem);
}

.ld-tab {
  position: relative;
  font: var(----ld-tab-font);
  font-weight: 700;
  border: 0;
  text-decoration: none;
  user-select: none;
  touch-action: manipulation;
  display: grid;
  grid-template-columns: minmax(0rem, var(--ld-sp-16)) max-content minmax(
      0rem,
      var(--ld-sp-16)
    );
  align-items: center;
  text-align: center;
  justify-content: center;
  line-height: 1;
  scroll-snap-align: start;
  white-space: nowrap;
  -webkit-touch-callout: none;
  padding: var(----ld-tab-padding-y) var(----ld-tab-padding-x);
  min-height: var(----ld-tab-min-height);
  color: var(----ld-tab-color);
  background-color: var(----ld-tab-bg-color);

  &[aria-disabled='true'] {
    color: var(----ld-tab-color-disabled);
    opacity: var(----ld-tab-opacity-disabled);

    .ld-tab__content {
      opacity: var(----ld-tab-content-opacity-disabled);
    }
  }

  /* Selection indicator */
  &::after {
    content: '';
    position: absolute;
    inset: auto 0 0 0;
    height: var(--ld-sp-2);
    z-index: 3;
  }

  &[aria-selected='true'] {
    color: var(--ld-tab-color-selected);

    &::after {
      background-color: var(--ld-tab-border-color-selected);
    }
  }

  &:focus:focus-visible {
    outline: none;
    background-color: var(----ld-tab-bg-color-focus);

    &:not(:active) {
      color: var(----ld-tab-color-focus);
    }

    &[aria-disabled='true'] {
      background-color: var(----ld-tab-bg-color-focus-disabled);
      color: var(----ld-tab-color-focus-disabled);
    }

    &[aria-selected='true'] {
      &:not(:active) {
        color: var(--ld-tab-color-selected-focus);
      }

      &::after {
        background-color: var(--ld-tab-border-color-selected-focus);
      }
    }

    &:not([aria-selected='true'])::after {
      background-color: inherit;
    }
  }

  &:where(:not([aria-disabled='true'])) {
    cursor: pointer;

    @media (hover: hover) {
      &:hover {
        background-color: var(----ld-tab-bg-color-hover);

        &:not([aria-selected='true'])::after {
          background-color: inherit;
        }
      }
    }
    &:active:focus,
    &:active:focus:focus-visible {
      background-color: var(----ld-tab-bg-color-active);

      &:not([aria-selected='true'])::after {
        background-color: inherit;
      }
    }
  }
}

.ld-tab__spacer {
  display: inline-flex;
  flex-shrink: 1;
  width: var(--ld-sp-16);
}

.ld-tab__content {
  display: grid;
  grid-auto-flow: column;
  gap: var(----ld-tab-gap);
  align-items: center;

  ld-icon,
  .ld-icon {
    svg {
      width: var(----ld-tab-icon-size);
      height: var(----ld-tab-icon-size);
    }
  }
}
