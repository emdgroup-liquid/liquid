import{r as i,h as o,H as t,g as n}from"./p-24a1cdec.js";import{g as a}from"./p-891005fd.js";import{c as r}from"./p-dfb8e7ac.js";const e=class{constructor(o){i(this,o),this.initialized=!1,this.transitionEnabled=!1,this.innerPanelExpanding=!1,this.onTransitionEnd=i=>{i.target===this.el&&(this.innerPanelExpanding=!1)}}async applyMaxHeight(i=0){if(i&&(this.innerPanelExpanding=!0),this.expanded){const i=r("ld-accordion-panel",this.el.parentElement);null==i||i.applyMaxHeight(this.el.scrollHeight)}this.maxHeight=this.expanded?this.el.scrollHeight+i:0}async setExpanded(i){this.expanded=i,this.applyMaxHeight()}componentDidLoad(){setTimeout((()=>{this.resizeObserver=new ResizeObserver((()=>{this.innerPanelExpanding||this.applyMaxHeight()})),this.resizeObserver.observe(this.contentRef),this.initialized=!0}))}disconnectedCallback(){this.resizeObserver.unobserve(this.contentRef)}render(){const i=a(["ld-accordion-panel",this.expanded&&"ld-accordion-panel--expanded",this.initialized&&"ld-accordion-panel--initialized"]);return o(t,{style:{"--ld-accordion-panel-max-height":this.maxHeight+"px"},class:i,onTransitionEnd:this.onTransitionEnd},o("div",{ref:i=>this.contentRef=i,class:"ld-accordion-panel__content"},o("slot",null)))}get el(){return n(this)}};e.style=':host{--ld-accordion-panel-transition-duration:0.001s;background-color:var(--ld-accordion-bg-col);border-radius:var(--ld-accordion-border-radius);border-top-left-radius:inherit;border-top-right-radius:inherit;box-sizing:border-box;display:block;max-height:var(--ld-accordion-panel-max-height,auto);overflow:hidden;position:relative;will-change:max-height}:host(.ld-accordion-panel--initialized){transition:max-height var(--ld-accordion-panel-transition-duration) ease}@media (prefers-reduced-motion:no-preference){:host(.ld-accordion-panel--initialized){--ld-accordion-panel-transition-duration:0.2s}}:host(.ld-accordion-panel--expanded):before{background-color:var(--ld-accordion-panel-border-top-color);content:"";height:var(--ld-sp-1);left:0;position:absolute;right:0;top:0}:host(.ld-accordion-panel--expanded) .ld-accordion-panel__content{opacity:1;transition:opacity var(--ld-accordion-panel-transition-duration) linear;visibility:inherit}.ld-accordion-panel__content{opacity:0;transition:opacity var(--ld-accordion-panel-transition-duration) linear,visibility 0s var(--ld-accordion-panel-transition-duration) linear;visibility:hidden}';export{e as ld_accordion_panel}