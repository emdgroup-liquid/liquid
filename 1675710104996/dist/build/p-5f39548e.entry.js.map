{"version":3,"names":["ldTablistShadowCss","LdTablist","this","isFloating","includes","mode","onClick","ev","pointerType","focusVisible","onFocusout","relatedTarget","closest","el","selectedIsFocused","onKeydown","key","preventDefault","focusTab","target","setFocusOnSelectedTabpanel","handleResize","updateSelectedTabIndicator","updateScrollable","updateScrollButtons","updateSelectedTab","selectedTab","Array","from","querySelectorAll","find","tab","selected","scrollButtonsWidth","btnScrollLeftRef","getBoundingClientRect","width","scrollContainerWidth","slotContainerRef","contentWidth","children","map","child","reduce","a","b","scrollable","scrollLeftEnabled","scrollLeft","scrollRightEnabled","scrollWidth","scroll","dir","scrollTo","left","behavior","prevLdTab","currentTab","previousElementSibling","nextElementSibling","isInnerFocusable","focusInner","scrollIntoView","block","inline","_a","tabpanel","hasAttribute","focus","handleTabSelect","selectedTabIndicatorRef","indicatorStyle","style","opacity","selectedTabBcr","parentBcr","parentElement","offsetLeft","transform","updateIconSize","forEach","icon","size","undefined","classList","remove","add","componentWillLoad","mutationObserver","MutationObserver","observe","subtree","childList","attributes","componentDidLoad","setTimeout","initialized","resizeObserver","ResizeObserver","disconnectedCallback","unobserve","_b","disconnect","render","h","Host","role","class","getClassNames","rounded","part","hidden","bind","ref","tabindex","fill","height","viewBox","d","stroke","onScroll"],"sources":["./src/liquid/components/ld-tabs/ld-tablist/ld-tablist.shadow.css?tag=ld-tablist&encapsulation=shadow","./src/liquid/components/ld-tabs/ld-tablist/ld-tablist.tsx"],"sourcesContent":[":host {\n  /* layout */\n  --ld-tablist-max-height: 2.5rem;\n  --ld-tablist-padding: 0px;\n\n  /* colors */\n  --ld-tablist-border-col: var(--ld-col-neutral-100);\n  --ld-tablist-border-height: 0.1875rem;\n  --ld-tablist-btn-scroll-col: var(--ld-col-neutral-900);\n  --ld-tablist-btn-scroll-col-active: var(--ld-col-neutral-900);\n  --ld-tablist-btn-scroll-bg-col: var(--ld-col-neutral-010);\n  --ld-tablist-btn-scroll-bg-col-hover: var(--ld-col-neutral-100);\n  --ld-tablist-btn-scroll-bg-col-active: var(--ld-col-neutral-300);\n\n  /* theme colors */\n  --ld-tablist-border-brand-col: var(--ld-thm-primary-hover);\n  --ld-tablist-btn-scroll-bg-brand-col-active: var(--ld-thm-primary-active);\n  --ld-tablist-btn-scroll-bg-brand-col-hover: var(--ld-thm-primary-hover);\n  --ld-tablist-btn-scroll-bg-brand-col: var(--ld-thm-primary);\n\n  /* theme colors (ld-tab) */\n  --ld-tab-bg-brand-col-active: var(--ld-thm-primary-active);\n  --ld-tab-bg-brand-col-focus: var(--ld-thm-primary-focus);\n  --ld-tab-bg-brand-col-hover: var(--ld-thm-primary-hover);\n  --ld-tab-bg-brand-col: var(--ld-thm-primary);\n  --ld-tab-text-brand-col-focus: var(--ld-thm-primary-active);\n  --ld-tab-disabled-bg-brand-col-focus: var(--ld-thm-primary-active);\n  --ld-tab-disabled-text-brand-col-focus: var(--ld-thm-primary-focus);\n  --ld-tab-disabled-text-brand-col: var(--ld-thm-primary-focus);\n  --ld-tab-selected-border-brand-col: var(--ld-thm-secondary);\n\n  /* transitions */\n  --ld-tablist-transition-duration: 0s;\n  @media (prefers-reduced-motion: no-preference) {\n    --ld-tablist-transition-duration: 0.2s;\n  }\n\n  position: relative; /* Host element needs to be offset parent. */\n}\n\n.ld-tablist {\n  padding: var(--ld-tablist-padding);\n  position: relative;\n  display: flex;\n  overflow: hidden;\n  z-index: 0;\n  background-color: var(--ld-tablist-btn-scroll-bg-col);\n  max-height: var(\n    --ld-tablist-max-height\n  ); /* required to fix scrollbar issue on windows */\n\n  &::after {\n    content: '';\n    position: absolute;\n    inset: auto 0 0 0;\n    height: var(--ld-tablist-border-height);\n    background-color: var(--ld-tablist-border-col);\n    z-index: 2;\n  }\n\n  &--rounded-all {\n    border-radius: var(--ld-br-m);\n  }\n\n  &--rounded-all-lg {\n    border-radius: var(--ld-br-l);\n  }\n\n  &--rounded-top {\n    border-radius: var(--ld-br-m) var(--ld-br-m) 0 0;\n  }\n\n  &--rounded-top-lg {\n    border-radius: var(--ld-br-l) var(--ld-br-l) 0 0;\n  }\n\n  & ::slotted(ld-tab) {\n    --ld-tab-indicator-height: var(--ld-tablist-border-height);\n  }\n\n  &--sm {\n    --ld-tablist-max-height: 2rem;\n\n    ::slotted(ld-tab) {\n      --ld-tab-font: var(--ld-typo-body-s);\n      --ld-tab-gap: 0.375rem;\n      --ld-tab-min-height: 2rem;\n      --ld-tab-padding-x: 0.625rem;\n      --ld-tab-padding-y: 0.5rem;\n    }\n  }\n\n  &--lg {\n    --ld-tablist-max-height: 3.125rem;\n\n    ::slotted(ld-tab) {\n      --ld-tab-font: var(--ld-typo-body-l);\n      --ld-tab-gap: 0.875rem;\n      --ld-tab-min-height: 3.125rem;\n      --ld-tab-padding-x: 1.3125rem;\n      --ld-tab-padding-y: 0.75rem;\n    }\n  }\n\n  &--ghost {\n    --ld-tablist-btn-scroll-bg-col: transparent;\n    ::slotted(ld-tab) {\n      --ld-tab-bg-col: transparent;\n    }\n  }\n\n  &--brand-color {\n    /* ld-tablist internal vars */\n    --ld-tablist-btn-scroll-col-active: var(--ld-col-wht);\n    --ld-tablist-btn-scroll-col: var(--ld-col-wht);\n    --ld-tablist-btn-scroll-bg-col: var(--ld-tablist-btn-scroll-bg-brand-col);\n    --ld-tablist-btn-scroll-bg-col-hover: var(\n      --ld-tablist-btn-scroll-bg-brand-col-hover\n    );\n    --ld-tablist-btn-scroll-bg-col-active: var(\n      --ld-tablist-btn-scroll-bg-brand-col-active\n    );\n    --ld-tablist-border-col: var(--ld-tablist-border-brand-col);\n\n    ::slotted(ld-tab) {\n      --ld-tab-disabled-opacity: 0.5;\n      --ld-tab-disabled-content-opacity: 1;\n\n      /* colors */\n      --ld-tab-selected-text-col-focus: var(--ld-col-wht);\n      --ld-tab-selected-text-col: var(--ld-col-wht);\n      --ld-tab-text-col: var(--ld-col-wht);\n      --ld-tab-text-col-hover: var(--ld-col-wht);\n\n      /* theme colors */\n      --ld-tab-bg-col: var(--ld-tab-bg-brand-col);\n      --ld-tab-bg-col-focus: var(--ld-tab-bg-brand-col-focus);\n      --ld-tab-bg-col-hover: var(--ld-tab-bg-brand-col-hover);\n      --ld-tab-bg-col-active: var(--ld-tab-bg-brand-col-active);\n      --ld-tab-disabled-bg-col-focus: var(--ld-tab-disabled-bg-brand-col-focus);\n      --ld-tab-disabled-text-col-focus: var(\n        --ld-tab-disabled-text-brand-col-focus\n      );\n      --ld-tab-disabled-text-col: var(--ld-tab-disabled-text-brand-col);\n      --ld-tab-selected-border-col-focus: var(--ld-tab-selected-border-col);\n      --ld-tab-selected-border-col: var(--ld-tab-selected-border-brand-col);\n      --ld-tab-text-col-focus: var(--ld-tab-text-brand-col-focus);\n    }\n  }\n\n  &--floating,\n  &--floating-on-brand-color {\n    --ld-tablist-padding: var(--ld-sp-8) 0;\n    --ld-tab-border-radius: var(--ld-br-m);\n    --ld-tab-selected-border-display: none;\n    --ld-tab-text-col-focus: var(--ld-tab-text-brand-col-focus);\n    border-radius: var(--ld-br-l);\n\n    &::after {\n      content: none;\n    }\n\n    .ld-tablist__scroll-container {\n      gap: var(--ld-sp-8);\n      padding-left: var(--ld-sp-8);\n      padding-right: var(--ld-sp-8);\n      position: relative;\n      scroll-snap-type: none;\n    }\n\n    ::slotted(ld-tab) {\n      /* colors */\n      --ld-tab-selected-text-col-focus: var(--ld-col-wht);\n      --ld-tab-selected-text-col: var(--ld-col-wht);\n      --ld-tab-bg-col: transparent;\n      --ld-tab-bg-col-active: transparent;\n      --ld-tab-bg-col-hover: transparent;\n      --ld-tab-bg-col-focus: transparent;\n      --ld-tab-disabled-bg-col-focus: transparent;\n      --ld-tab-disabled-text-col-focus: var(--ld-col-neutral-700);\n      --ld-tab-selected-bg-col-hover: transparent;\n      --ld-tab-selected-bg-col-active: transparent;\n      --ld-tab-text-col-hover: var(--ld-thm-primary-hover);\n      --ld-tab-text-col-focus: var(--ld-thm-primary-focus);\n    }\n  }\n\n  &--floating-on-brand-color {\n    --ld-tablist-btn-scroll-bg-col: var(--ld-col-wht);\n  }\n}\n\n.ld-tablist__scroll-container {\n  display: flex;\n  overflow-x: auto;\n  scroll-snap-type: x mandatory;\n  padding-bottom: 4rem;\n  margin-bottom: -4rem;\n}\n\n.ld-tablist__btn-scroll {\n  position: relative;\n  border: 0;\n  text-decoration: none;\n  user-select: none;\n  touch-action: manipulation;\n  justify-content: center;\n  align-items: center;\n  -webkit-touch-callout: none;\n  color: var(--ld-tablist-btn-scroll-col);\n  background-color: var(--ld-tablist-btn-scroll-bg-col);\n  box-shadow: var(--ld-shadow-active);\n  width: var(--ld-sp-32);\n  z-index: 2;\n\n  &:focus:focus-visible {\n    outline: none;\n  }\n\n  &[aria-disabled='true'] {\n    svg {\n      opacity: 0.25;\n    }\n  }\n\n  &:where(:not([aria-disabled='true'])) {\n    cursor: pointer;\n\n    @media (hover: hover) {\n      &:hover {\n        background-color: var(--ld-tablist-btn-scroll-bg-col-hover);\n      }\n    }\n    &:active:focus,\n    &:active:focus:focus-visible {\n      color: var(--ld-tablist-btn-scroll-col-active);\n      background-color: var(--ld-tablist-btn-scroll-bg-col-active);\n    }\n  }\n\n  &--left {\n    left: 0;\n  }\n  &--right {\n    right: 0;\n  }\n}\n\n.ld-tablist__active-tab-indicator {\n  background-color: var(--ld-thm-primary);\n  border: solid $colorSynBrightBlue 2px;\n  border-radius: var(--ld-br-m);\n  height: var(--ld-tablist-max-height);\n  opacity: 0;\n  position: absolute;\n  width: 0;\n  will-change: transform, width;\n  z-index: -1;\n\n  .ld-tablist--initialized & {\n    /* stylelint-disable-next-line plugin/no-low-performance-animation-properties */\n    transition: width var(--ld-tablist-transition-duration) ease,\n      transform var(--ld-tablist-transition-duration) ease,\n      opacity var(--ld-tablist-transition-duration)\n        var(--ld-tablist-transition-duration) linear;\n  }\n\n  .ld-tablist--focus-visible.ld-tablist--selected-focused:focus-within & {\n    background-color: var(--ld-thm-primary-focus);\n  }\n}\n","import {\n  Component,\n  Element,\n  h,\n  Host,\n  Listen,\n  Prop,\n  State,\n  Watch,\n} from '@stencil/core'\nimport { getClassNames } from 'src/liquid/utils/getClassNames'\nimport { isInnerFocusable } from '../../../utils/focus'\n\n/**\n * @virtualProp ref - reference to component\n * @virtualProp {string | number} key - for tracking the node's identity when working with lists\n * @part active-tab-indicator - Active tab indicator in floating mode\n * @part arrow - Both arrow button elements\n * @part arrow-icon - Both arrow icon SVGs\n * @part arrow-icon-left - Left arrow icon SVG\n * @part arrow-icon-right - Right arrow icon SVG\n * @part arrow-left - Left arrow button element\n * @part arrow-right - Right arrow button element\n * @part scroll-container - Container wrapping the slot\n * @part wrapper - Container wrapping the arrows and the scroll-container\n */\n@Component({\n  tag: 'ld-tablist',\n  styleUrl: 'ld-tablist.shadow.css',\n  shadow: true,\n})\nexport class LdTablist {\n  @Element() el: HTMLElement\n\n  /** Size of the tabs. */\n  @Prop() size?: 'sm' | 'lg'\n\n  /** Display mode. */\n  @Prop() mode?:\n    | 'ghost'\n    | 'brand-color'\n    | 'floating'\n    | 'floating-on-brand-color'\n\n  /** Sets border radii. */\n  @Prop() rounded?: 'all' | 'all-lg' | 'top' | 'top-lg'\n\n  private slotContainerRef!: HTMLElement\n  private selectedTabIndicatorRef: HTMLElement\n  private btnScrollLeftRef!: HTMLButtonElement\n  private resizeObserver: ResizeObserver\n  private mutationObserver: MutationObserver\n\n  @State() initialized = false\n  @State() selectedTab?: HTMLLdTabElement\n  @State() scrollable: boolean\n  @State() scrollLeftEnabled: boolean\n  @State() scrollRightEnabled: boolean\n  @State() focusVisible = true\n  @State() selectedIsFocused = true\n\n  private isFloating = () =>\n    ['floating', 'floating-on-brand-color'].includes(this.mode)\n\n  private updateScrollable() {\n    if (this.isFloating()) return\n    const scrollButtonsWidth =\n      2 * this.btnScrollLeftRef.getBoundingClientRect().width\n    const scrollContainerWidth =\n      this.slotContainerRef.getBoundingClientRect().width\n    const contentWidth = Array.from(this.el.children)\n      .map((child) => child.getBoundingClientRect().width)\n      .reduce((a, b) => a + b)\n    this.scrollable =\n      scrollContainerWidth + (this.scrollable ? scrollButtonsWidth : 0) <\n      contentWidth\n  }\n\n  private updateScrollButtons() {\n    if (this.isFloating()) return\n    if (!this.scrollable) return\n    this.scrollLeftEnabled = this.slotContainerRef.scrollLeft > 0\n    this.scrollRightEnabled =\n      this.slotContainerRef.scrollLeft +\n        this.slotContainerRef.getBoundingClientRect().width -\n        this.slotContainerRef.scrollWidth <\n      0\n  }\n\n  private scroll(dir: 'left' | 'right') {\n    this.slotContainerRef.scrollTo({\n      left:\n        this.slotContainerRef.scrollLeft +\n        ((dir === 'left' ? -1 : 1) *\n          this.slotContainerRef.getBoundingClientRect().width) /\n          2,\n      behavior: 'smooth',\n    })\n  }\n\n  private focusTab(prevLdTab: HTMLElement, dir: 'left' | 'right') {\n    const currentTab =\n      dir === 'left'\n        ? prevLdTab.previousElementSibling\n        : prevLdTab.nextElementSibling\n    if (isInnerFocusable(currentTab)) {\n      currentTab.focusInner()\n      currentTab.scrollIntoView({\n        behavior: 'smooth',\n        block: 'nearest',\n        inline: 'center',\n      })\n      this.selectedIsFocused = currentTab === this.selectedTab\n    }\n  }\n\n  private setFocusOnSelectedTabpanel() {\n    // TODO: fix Stencils DOM implementation for unit testing and replace\n    // ;(this.el\n    //   .closest('ld-tabs')\n    //   .querySelector('ld-tabpanel:not([hidden])') as HTMLElement)?.focus()\n    Array.from(this.el.closest('ld-tabs').querySelectorAll('ld-tabpanel'))\n      .find((tabpanel) => !tabpanel.hasAttribute('hidden'))\n      ?.focus()\n  }\n\n  private onClick = (ev) => {\n    if (ev.pointerType === 'mouse') {\n      this.focusVisible = false\n    }\n  }\n\n  private onFocusout = (ev) => {\n    if (\n      !ev.relatedTarget ||\n      ev.relatedTarget.closest('ld-tablist') !== this.el\n    ) {\n      this.focusVisible = true\n      this.selectedIsFocused = true\n    }\n  }\n\n  private onKeydown = (ev) => {\n    switch (ev.key) {\n      case 'ArrowLeft':\n        ev.preventDefault()\n        this.focusVisible = true\n        this.focusTab(ev.target, 'left')\n        return\n      case 'ArrowRight': {\n        ev.preventDefault()\n        this.focusVisible = true\n        this.focusTab(ev.target, 'right')\n        return\n      }\n      case 'ArrowDown': {\n        ev.preventDefault()\n        this.focusVisible = true\n        this.setFocusOnSelectedTabpanel()\n        return\n      }\n    }\n  }\n\n  private handleResize = () => {\n    if (this.isFloating()) {\n      this.updateSelectedTabIndicator()\n    } else {\n      this.updateScrollable()\n      this.updateScrollButtons()\n    }\n  }\n\n  private updateSelectedTab = () => {\n    this.selectedTab = Array.from(this.el.querySelectorAll('ld-tab')).find(\n      (tab) => tab.selected\n    )\n  }\n\n  @Listen('ldtabselect')\n  handleTabSelect(ev) {\n    this.selectedIsFocused = true\n    this.selectedTab = ev.target\n  }\n\n  @Watch('selectedTab')\n  private updateSelectedTabIndicator() {\n    if (!this.selectedTabIndicatorRef) return\n\n    const indicatorStyle = this.selectedTabIndicatorRef.style\n    if (!this.selectedTab) {\n      // hide indicator\n      indicatorStyle.opacity = '0'\n      return\n    }\n\n    const selectedTabBcr = this.selectedTab.getBoundingClientRect()\n    const parentBcr = this.selectedTab.parentElement.getBoundingClientRect()\n    const offsetLeft = selectedTabBcr.left - parentBcr.left\n    indicatorStyle.transform = `translateX(${offsetLeft - 8}px)`\n    indicatorStyle.width = `${selectedTabBcr.width}px`\n    indicatorStyle.opacity = '1'\n  }\n\n  @Watch('size')\n  updateIconSize() {\n    this.el.querySelectorAll('ld-icon').forEach((icon) => {\n      if (this.size !== undefined) {\n        icon.size = this.size\n      } else {\n        icon.size = undefined\n      }\n    })\n    this.el.querySelectorAll('.ld-icon').forEach((icon) => {\n      if (this.size === 'sm') {\n        icon.classList.remove('ld-icon--lg')\n        icon.classList.add('ld-icon--sm')\n      } else if (this.size === 'lg') {\n        icon.classList.remove('ld-icon--sm')\n        icon.classList.add('ld-icon--lg')\n      } else {\n        icon.classList.remove('ld-icon--sm', 'ld-icon--lg')\n      }\n    })\n  }\n\n  componentWillLoad() {\n    // Attribute selector fails in test env, hance filtering with js below.\n    this.selectedTab = Array.from(this.el.querySelectorAll('ld-tab')).find(\n      (tab) => tab.selected\n    )\n    this.updateIconSize()\n\n    this.mutationObserver = new MutationObserver(this.updateSelectedTab)\n    this.mutationObserver.observe(this.el, {\n      subtree: true,\n      childList: true,\n      attributes: false,\n    })\n  }\n\n  componentDidLoad() {\n    setTimeout(() => {\n      this.updateScrollable()\n      this.updateScrollButtons()\n      this.initialized = true\n    })\n    this.resizeObserver = new ResizeObserver(this.handleResize)\n    this.resizeObserver.observe(this.slotContainerRef)\n  }\n\n  disconnectedCallback() {\n    /* istanbul ignore next */\n    this.resizeObserver?.unobserve(this.slotContainerRef)\n    /* istanbul ignore next */\n    this.mutationObserver?.disconnect()\n  }\n\n  render() {\n    return (\n      <Host\n        onClick={this.onClick}\n        onKeydown={this.onKeydown}\n        onFocusout={this.onFocusout}\n        role=\"tablist\"\n      >\n        <div\n          class={getClassNames([\n            'ld-tablist',\n            this.initialized && 'ld-tablist--initialized',\n            this.focusVisible && 'ld-tablist--focus-visible',\n            this.selectedIsFocused && 'ld-tablist--selected-focused',\n            this.size && `ld-tablist--${this.size}`,\n            this.mode && `ld-tablist--${this.mode}`,\n            this.rounded && `ld-tablist--rounded-${this.rounded}`,\n          ])}\n          part=\"wrapper\"\n        >\n          {!this.isFloating() && (\n            <button\n              aria-disabled={this.scrollLeftEnabled ? undefined : 'true'}\n              class=\"ld-tablist__btn-scroll ld-tablist__btn-scroll--left\"\n              hidden={!this.scrollable}\n              onClick={this.scroll.bind(this, 'left')}\n              part=\"arrow arrow-left\"\n              ref={(el) => (this.btnScrollLeftRef = el)}\n              tabindex=\"-1\"\n            >\n              {/* custom icon arrow-left */}\n              <svg\n                fill=\"none\"\n                height=\"16\"\n                part=\"arrow-icon arrow-icon-left\"\n                viewBox=\"0 0 16 16\"\n                width=\"16\"\n              >\n                <title>Scroll left</title>\n                <path\n                  d=\"M10 13L6 8L10 3\"\n                  stroke=\"currentColor\"\n                  stroke-width=\"2\"\n                  stroke-linecap=\"round\"\n                  stroke-linejoin=\"round\"\n                />\n              </svg>\n            </button>\n          )}\n          <div\n            class=\"ld-tablist__scroll-container\"\n            onScroll={this.updateScrollButtons.bind(this)}\n            part=\"scroll-container\"\n            ref={(el) => (this.slotContainerRef = el)}\n          >\n            <slot></slot>\n            {this.isFloating() && (\n              <div\n                part=\"active-tab-indicator\"\n                class=\"ld-tablist__active-tab-indicator\"\n                ref={(el) => (this.selectedTabIndicatorRef = el)}\n              />\n            )}\n          </div>\n          {!this.isFloating() && (\n            <button\n              aria-disabled={this.scrollRightEnabled ? undefined : 'true'}\n              class=\"ld-tablist__btn-scroll ld-tablist__btn-scroll--right\"\n              hidden={!this.scrollable}\n              onClick={this.scroll.bind(this, 'right')}\n              part=\"arrow arrow-right\"\n              tabindex=\"-1\"\n            >\n              {/* custom icon arrow-right */}\n              <svg\n                fill=\"none\"\n                height=\"16\"\n                part=\"arrow-icon arrow-icon-right\"\n                viewBox=\"0 0 16 16\"\n                width=\"16\"\n              >\n                <title>Scroll right</title>\n                <path\n                  d=\"M6 13L10 8L6 3\"\n                  stroke=\"currentColor\"\n                  stroke-width=\"2\"\n                  stroke-linecap=\"round\"\n                  stroke-linejoin=\"round\"\n                />\n              </svg>\n            </button>\n          )}\n        </div>\n      </Host>\n    )\n  }\n}\n"],"mappings":"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"}