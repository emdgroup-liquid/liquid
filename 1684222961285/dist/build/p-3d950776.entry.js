import{r as i,c as s,h as t,H as e,g as n}from"./p-5c3033fa.js";import{g as a}from"./p-1133c92e.js";import{c as d}from"./p-82e9a1aa.js";const h=":host{display:block;height:100%;position:absolute;transition:transform var(--ld-sidenav-transition-duration) ease;width:100%}:host.ld-sidenav-slider--subnav-active{visibility:hidden}:host ::slotted(:where(:not(ld-sidenav-separator):not(ld-sidenav-navitem):not(ld-sidenav-subnav))){margin-bottom:var(--ld-sidenav-padding-y);transition:var(--ld-sidenav-collapse-content-transition);will-change:opacity,transform}:host ::slotted(.ld-sidenav-slider__hidden){opacity:0;transform:translateX(var(--ld-sidenav-translate-x-delta));transition:opacity var(--ld-sidenav-transition-duration-collapse-expand) linear,visibility 0s var(--ld-sidenav-transition-duration-collapse-expand) linear,transform var(--ld-sidenav-transition-duration-collapse-expand) ease;visibility:hidden}:host ::slotted(.ld-sidenav-accordion){transform:none}";const l=class{constructor(t){i(this,t);this.ldSidenavSliderChange=s(this,"ldSidenavSliderChange",7);this.updateActiveBeforeTransition=()=>{this.el.querySelectorAll("ld-sidenav-subnav").forEach((i=>{i.activeBeforeTransition=false}));this.activeSubnavs.forEach((i=>{i.activeBeforeTransition=true}))};this.updateActive=()=>{this.el.querySelectorAll("ld-sidenav-subnav").forEach((i=>{i.active=false}));this.activeSubnavs.forEach((i=>{i.active=true}))};this.updateAncestor=()=>{this.el.querySelectorAll("ld-sidenav-subnav").forEach((i=>{i.ancestor=false}));this.activeSubnavs.forEach(((i,s)=>{i.ancestor=s<this.activeSubnavs.length-1}))};this.updateFirstLevelHidden=()=>{this.isFirstLevelHidden=this.currentNavLevel>0};this.scrollInactiveToTop=()=>{Array.from(this.el.querySelectorAll("ld-sidenav-subnav")).forEach((i=>{if(!i.active){i.scrollToTop()}}))};this.onTransitionEnd=i=>{if(i.target!==this.el)return;this.updateActive();this.updateAncestor();this.updateFirstLevelHidden();this.scrollInactiveToTop()};this.toggleVisibilityOnHidableContent=i=>{Array.from(this.el.children).forEach((s=>{if(!["LD-SIDENAV-ACCORDION","LD-SIDENAV-NAVITEM","LD-SIDENAV-SEPARATOR","LD-SIDENAV-SUBNAV"].includes(s.tagName)){s.classList.toggle("ld-sidenav-slider__hidden",!i)}}))};this.currentSubnav=undefined;this.label=undefined;this.currentNavLevel=undefined;this.activeSubnavs=[];this.isFirstLevelHidden=false}navigateToSubnav(){let i;let s=this.currentSubnav;this.activeSubnavs=[];while(s){const t=document.querySelector(`#${s}`);if(t){t.active=true;i=t.closest(`ld-sidenav-subnav:not(#${s})`);this.activeSubnavs.unshift(t);if(i){s=i.id}else{s=undefined}}else{s=undefined}}if(this.activeSubnavs.length!==this.currentNavLevel){let i=false;if(this.currentNavLevel===undefined||this.currentNavLevel>this.activeSubnavs.length){i=true;this.updateAncestor()}this.currentNavLevel=this.activeSubnavs.length;if(i)this.updateFirstLevelHidden();this.updateActiveBeforeTransition()}else if(this.activeSubnavs.length>0){this.updateActive();this.updateAncestor();this.updateFirstLevelHidden();this.scrollInactiveToTop()}}handleSubnavChange(){this.navigateToSubnav();this.emitChange()}slideToHandler(i){this.currentSubnav=i.detail.id}handleSidenavCollapsedChange(i){if(i.target!==this.sidenav)return;if(i.detail.collapsed){this.scrollerRef.scrollToTop(true);this.toggleVisibilityOnHidableContent(false)}else{this.toggleVisibilityOnHidableContent(true)}}handleSidenavBreakpointChange(i){if(i.target!==this.sidenav)return;const s=i.detail;if(s){this.toggleVisibilityOnHidableContent(true)}else{this.toggleVisibilityOnHidableContent(!this.sidenav.collapsed)}}async navigateBack(){if(this.currentNavLevel>0){const i=this.activeSubnavs[this.activeSubnavs.length-2];this.currentSubnav=(i===null||i===void 0?void 0:i.id)||""}}emitChange(){const i=this.activeSubnavs[this.activeSubnavs.length-1];if(i){const s=this.activeSubnavs[this.activeSubnavs.length-2]||this.el;this.ldSidenavSliderChange.emit({id:i.id,label:s.label})}else if(!this.currentSubnav){this.ldSidenavSliderChange.emit()}}componentWillLoad(){this.sidenav=d("ld-sidenav",this.el);if(this.currentSubnav){this.handleSubnavChange()}if(this.currentNavLevel===undefined){this.currentNavLevel=0}}render(){const i=a(["ld-sidenav-slider",this.currentNavLevel>0&&"ld-sidenav-slider--subnav-active"]);return t(e,{onTransitionEnd:this.onTransitionEnd,class:i,style:{transform:`translateX(-${this.currentNavLevel}00%)`,visibility:this.isFirstLevelHidden?"hidden":"inherit"}},t("ld-sidenav-scroller-internal",{part:"scroll-container",ref:i=>this.scrollerRef=i},t("slot",null)))}get el(){return n(this)}static get watchers(){return{currentSubnav:["handleSubnavChange"]}}};l.style=h;export{l as ld_sidenav_slider};
//# sourceMappingURL=p-3d950776.entry.js.map