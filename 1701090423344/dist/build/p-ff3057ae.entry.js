import{r as t,c as i,h as e,F as s,H as r,g as l}from"./p-6323efdb.js";import{g as d}from"./p-1133c92e.js";import{i as a}from"./p-b05f0e4e.js";const o=':host{--ld-slider-disabled-thumb-box-shadow:0 0 0 #0000;--ld-slider-thumb-box-shadow:var(--ld-slider-thumb-box-shadow-default);--ld-slider-thumb-box-shadow-default:var(--ld-shadow-stacked);--ld-slider-thumb-box-shadow-active:var(--ld-slider-thumb-box-shadow-default),0 0 0 var(--ld-sp-6) var(--ld-thm-primary-alpha-lowest);--ld-slider-thumb-box-shadow-hover:var(--ld-slider-thumb-box-shadow-default),0 0 0 var(--ld-sp-4) var(--ld-thm-primary-alpha-lowest);--ld-slider-thumb-size:var(--ld-slider-thumb-size-md);--ld-slider-thumb-size-sm:var(--ld-sp-24);--ld-slider-thumb-size-md:var(--ld-sp-32);--ld-slider-thumb-size-lg:var(--ld-sp-40);--ld-slider-diff:calc(var(--max) - var(--min));--ld-slider-indicator-size:var(--ld-sp-6);--ld-slider-track-margin:calc((var(--ld-slider-thumb-size) - var(--ld-slider-indicator-size)) / 2 - 0.0625rem);--ld-slider-radius:calc(var(--ld-slider-thumb-size) / 2);--ld-slider-useful-width:calc(var(--ld-slider-width) - var(--ld-slider-thumb-size));--ld-slider-thumb-col:var(--ld-col-wht);--ld-slider-disabled-thumb-col:var(--ld-col-neutral-200);--ld-slider-selected-col:var(--ld-slider-selected-col-default);--ld-slider-selected-col-default:var(--ld-thm-primary);--ld-slider-disabled-selected-col:var(--ld-col-neutral-200);--ld-slider-animation-duration:0s}@media (prefers-reduced-motion:no-preference){:host{--ld-slider-animation-duration:var(--ld-transition-duration-swift)}}:host{display:grid;font:var(--ld-typo-body-xs);grid-template-rows:max-content var(--ld-slider-thumb-size) max-content;min-width:var(--ld-slider-width);pointer-events:none;position:relative;width:var(--ld-slider-width);z-index:0}:host:after,:host:before{align-self:center;background:var(--ld-col-neutral-100);border-radius:var(--ld-slider-radius);content:"";grid-column:1;grid-row:2;height:var(--ld-sp-8);margin:0 var(--ld-slider-track-margin);will-change:transform}:host:after{background:var(--ld-slider-selected-col);cursor:pointer;-webkit-mask:var(--fill);mask:var(--fill);-webkit-mask-composite:xor;mask-composite:exclude;pointer-events:auto}:host([aria-disabled=true]),:host([disabled]){--ld-slider-selected-col:var(--ld-slider-disabled-selected-col);--ld-slider-thumb-box-shadow-default:var(\n      --ld-slider-disabled-thumb-box-shadow\n    );--ld-slider-thumb-col:var(--ld-slider-disabled-thumb-col)}:host([aria-disabled=true]):after,:host([disabled]):after{pointer-events:none}:host([aria-disabled=true]) .ld-slider__input,:host([disabled]) .ld-slider__input{opacity:1}:host([aria-disabled=true]) .ld-slider__input::-webkit-slider-thumb,:host([disabled]) .ld-slider__input::-webkit-slider-thumb{pointer-events:none;transform:scale(calc(2 / 3))}:host([aria-disabled=true]) .ld-slider__input::-moz-range-thumb,:host([disabled]) .ld-slider__input::-moz-range-thumb{pointer-events:none;transform:scale(calc(2 / 3))}:host([aria-disabled=true]) .ld-slider__input:focus+.ld-slider__output--permanent:after,:host([disabled]) .ld-slider__input:focus+.ld-slider__output--permanent:after{color:var(--ld-slider-selected-col-default)}:host([aria-disabled=true]) .ld-slider__input:focus:not(:focus-visible)+.ld-slider__output--permanent:after,:host([disabled]) .ld-slider__input:focus:not(:focus-visible)+.ld-slider__output--permanent:after{color:inherit}:host(.ld-slider--padded){padding-bottom:var(--ld-sp-6)}:host(.ld-slider--sm){--ld-slider-thumb-size:var(--ld-slider-thumb-size-sm)}:host(.ld-slider--lg){--ld-slider-thumb-size:var(--ld-slider-thumb-size-lg)}:host *{--ld-slider-highlighted:0;font:inherit;margin:0}:host .ld-slider__input,:host .ld-slider__input::-webkit-slider-runnable-track,:host .ld-slider__input::-webkit-slider-thumb{-webkit-appearance:none}:host .ld-slider__input{background:none;cursor:grab;grid-column:1;grid-row:2;left:0;top:0;z-index:calc(3 + var(--ld-slider-highlighted))}:host .ld-slider__input::-webkit-slider-runnable-track{background:none;height:100%;width:100%}:host .ld-slider__input::-moz-range-track{background:none;height:100%;width:100%;z-index:2}:host .ld-slider__input::-webkit-slider-thumb{background:var(--ld-slider-thumb-col);border:none;border-radius:var(--ld-br-full);box-shadow:var(--ld-slider-thumb-box-shadow);box-sizing:border-box;height:var(--ld-slider-thumb-size);pointer-events:auto;width:var(--ld-slider-thumb-size);will-change:transform}:host .ld-slider__input::-moz-range-thumb{background:var(--ld-slider-thumb-col);border:none;border-radius:var(--ld-br-full);box-shadow:var(--ld-slider-thumb-box-shadow);box-sizing:border-box;height:var(--ld-slider-thumb-size);pointer-events:auto;width:var(--ld-slider-thumb-size);will-change:transform}:host .ld-slider__input:active,:host .ld-slider__input:focus-visible{outline:none}:host .ld-slider__input:active+output,:host .ld-slider__input:focus-visible+output{--ld-slider-highlighted:1}:host .ld-slider__input:focus,:host .ld-slider__input:hover{--ld-slider-thumb-box-shadow:var(--ld-slider-thumb-box-shadow-hover)}:host .ld-slider__input:active{--ld-slider-thumb-box-shadow:var(--ld-slider-thumb-box-shadow-active);cursor:grabbing;outline:none;z-index:4}:host .ld-slider__input:not(:active):not(:focus-visible):not(:hover){--ld-slider-thumb-box-shadow:var(--ld-slider-thumb-box-shadow-default)}:host .ld-slider__indicator,:host .ld-slider__output,:host .ld-slider__value-label{grid-column:1;left:calc((var(--now) - var(--min)) / var(--ld-slider-diff) * var(--ld-slider-useful-width) + var(--ld-slider-radius));max-width:max-content;position:relative}:host .ld-slider__indicator{aspect-ratio:1;-webkit-backdrop-filter:brightness(.6) invert(1) hue-rotate(180deg);backdrop-filter:brightness(.6) invert(1) hue-rotate(180deg);border-radius:var(--ld-br-full);grid-row:2;height:var(--ld-slider-indicator-size);opacity:.5;top:var(--ld-slider-radius);transform:translate(-50%,-50%);z-index:1}:host .ld-slider__value-label{grid-row:3;transform:translate(-50%)}:host .ld-slider__value-label--first{left:var(--ld-slider-track-margin);transform:none}:host .ld-slider__value-label--last{left:auto;position:absolute;right:var(--ld-slider-track-margin);transform:none}:host .ld-slider__output{color:var(--ld-col-wht);content:counter(now) var(--unit);counter-reset:now var(--now);font-weight:700;grid-row:1;margin-bottom:var(--ld-sp-16);opacity:var(--ld-slider-highlighted);transform:translate(-50%) scale(max(.8,var(--ld-slider-highlighted)));transition:opacity var(--ld-slider-animation-duration) ease-out,transform var(--ld-slider-animation-duration) ease-out}:host .ld-slider__output:before{background:var(--ld-slider-selected-col);border-radius:var(--ld-br-m);bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:-1}:host .ld-slider__output:after{content:counter(now) var(--unit);counter-reset:now var(--now);display:block;padding:0 var(--ld-sp-6)}:host .ld-slider__output--permanent{color:var(--ld-slider-selected-col);opacity:1;transform:translate(-50%,calc((var(--ld-slider-highlighted) - 1) * var(--ld-sp-12) * -1));transition:transform var(--ld-slider-animation-duration) ease-out}:host .ld-slider__output--permanent:before{opacity:var(--ld-slider-highlighted);transition:opacity var(--ld-slider-animation-duration) ease-out}:host .ld-slider__output--permanent:after{filter:invert(var(--ld-slider-highlighted)) grayscale(var(--ld-slider-highlighted)) contrast(max(1,calc(4 * var(--ld-slider-highlighted))))}';const n=(t,i)=>t.length?t.reduce(((t,e)=>Math.abs(e-i)<Math.abs(t-i)?e:t)):i;const h=(t,i)=>n(t.filter((t=>t>i)),i);const u=(t,i)=>n(t.filter((t=>t<i)),i);let c=0;const b=class{constructor(e){t(this,e);this.ldchange=i(this,"ldchange",7);this.idPrefix=`ld-slider-${++c}`;this.handleTrackClick=t=>{if(t.composedPath()[0]!==this.el){return}const i=getComputedStyle(this.el,"after");const e=Number.parseInt(getComputedStyle(this.el).paddingLeft)||0;const s=Number.parseInt(i.marginLeft)||0;const r=Number.parseInt(i.width);const l=t.offsetX-e-s;const d=Math.round(l/r*(this.max-this.min))+this.min;const a=[...this.values];const o=a.indexOf(n(a,d));const h=this.getCorrectedValue(d,o,a);a.splice(o,1,h);this.value=a.join(",")};this.handleInput=(t,i)=>{const e=t.target;if(a(this.ariaDisabled)){e.value=String(this.values[i]);return}const s=Number.parseInt(e.value,10);const r=[...this.values];const l=this.getCorrectedValue(s,i,r,true);r[i]=l;if(l!==s){e.value=String(l)}const d=r.join(",");if(this.value!==d){this.value=r.join(",")}};this.handleKeyDown=(t,i)=>{const e=t.target;if(a(this.ariaDisabled)){e.value=String(this.values[i]);return}const s=Number.parseInt(e.value,10);const r=[...this.values];let l;if(this.stops&&!this.snapOffset){switch(t.key){case"ArrowDown":case"ArrowLeft":l=u(this.steps,s);break;case"ArrowRight":case"ArrowUp":l=h(this.steps,s)}}else if(this.snapOffset){switch(t.key){case"ArrowDown":case"ArrowLeft":l=s-1;break;case"ArrowRight":case"ArrowUp":l=s+1}}if(l===undefined){return}t.preventDefault();const d=this.getCorrectedValue(l,i,r);if(d===s){return}r[i]=d;e.value=String(d);const o=r.join(",");if(this.value!==o){this.value=r.join(",")}};this.getCorrectedValue=(t,i,e,s=false)=>{const r=e[i-1];const l=e[i+1];if(t<this.min){return this.min}if(t>this.max){return this.max}if(!this.swappable&&r>t){return r}if(!this.swappable&&l<t){return l}if(s&&this.snapOffset!==undefined){const i=this.steps.find((i=>t<=i+this.snapOffset&&t>=i-this.snapOffset));return i!==null&&i!==void 0?i:t}if(this.steps.length&&this.snapOffset===undefined){return n(this.steps,t)}return t};this.validateValue=(t,i,e)=>t===this.getCorrectedValue(t,i,e);this.correctValues=t=>{const i=t.map(this.getCorrectedValue);if(!i.every(this.validateValue)){return this.correctValues(i)}return i};this.updateValues=(t=false)=>{const i=String(this.value).split(",").map((t=>Number.parseInt(t,10)));if(!i.every(this.validateValue)){if(t){this.value=this.correctValues(i).join(",")}return false}this.values=i;return true};this.ariaDisabled=undefined;this.disabled=false;this.hideStopLabels=false;this.hideValueLabels=false;this.hideValues=false;this.indicators=false;this.labelFrom="From";this.labelTo="To";this.labelValue="Value";this.max=100;this.min=0;this.negative=false;this.size=undefined;this.snapOffset=undefined;this.step=undefined;this.stops=undefined;this.swappable=false;this.ldTabindex=undefined;this.unit=undefined;this.value=this.min;this.width="100%";this.valueLabels=[];this.steps=[];this.values=[]}async focusInner(){var t;(t=this.firstSliderRef)===null||t===void 0?void 0:t.focus({preventScroll:true})}updateState(){this.steps=this.stops?[this.min,...this.stops.split(",").map((t=>Number.parseInt(t,10))),this.max]:this.step?Array(Math.floor((this.max-this.min)/this.step)+1).fill(this.min).map(((t,i)=>t+i*this.step)):[];this.valueLabels=this.stops?[...this.steps]:[this.min,this.max]}handleValueChange(){const t=this.updateValues();if(t){this.ldchange.emit(this.values)}}componentWillLoad(){this.updateState();this.updateValues(true)}render(){const t=this.values.reduce(((t,i,e)=>{t[`--value${e}`]=i;return t}),{});return e(r,{class:d(["ld-slider",this.hideValueLabels&&"ld-slider--padded",this.size&&`ld-slider--${this.size}`]),onClick:this.handleTrackClick,role:"group",style:Object.assign(Object.assign({},t),{"--ld-slider-width":this.width,"--min":String(this.min),"--max":String(this.max),"--fill":(this.negative?`\nlinear-gradient(\n  90deg,\n  red 100%,\n  transparent 0\n),`:"")+this.values.map(((t,i)=>`\nlinear-gradient(\n  90deg,\n  red\n    calc(\n      var(--ld-slider-radius) - var(--ld-slider-track-margin) +\n        (var(--value${i}) - var(--min)) / var(--ld-slider-diff) *\n        (var(--ld-slider-useful-width)${this.width==="100%"?" + 2 * var(--ld-slider-track-margin)":""})\n    ),\n  transparent 0\n)`)).join(",")})},this.values.map(((t,i)=>{var r;return e(s,null,e("ld-sr-only",{id:`${this.idPrefix}-label-${i}`,key:`label-${i}`,part:"label"},this.values.length===2?i===0?this.labelFrom:this.labelTo:`${this.labelValue} ${i+1}`),e("input",{"aria-disabled":this.disabled||a(this.ariaDisabled)?"true":undefined,"aria-labelledby":`${this.idPrefix}-label-${i}`,"aria-valuetext":this.unit?t+this.unit:undefined,class:"ld-slider__input",disabled:this.disabled,id:`${this.idPrefix}-value-${i}`,key:`input-${i}`,max:this.max,min:this.min,onInput:t=>this.handleInput(t,i),onKeyDown:t=>this.handleKeyDown(t,i),part:"input focusable",ref:i===0?t=>{this.firstSliderRef=t}:undefined,step:this.snapOffset!==undefined?undefined:this.step,style:t===this.max&&this.values[i-1]===this.max?{zIndex:"2"}:undefined,tabindex:this.ldTabindex,type:"range",value:t}),e("output",{class:d(["ld-slider__output",!this.hideValues&&"ld-slider__output--permanent"]),htmlFor:`${this.idPrefix}-value-${i}`,key:`output-${i}`,part:"output",style:{"--now":`var(--value${i})`,"--unit":`"${(r=this.unit)!==null&&r!==void 0?r:""}"`}}))})),this.indicators&&this.steps.map((t=>e("div",{class:"ld-slider__indicator",key:`indicator-${t}`,part:"indicator",style:{"--now":String(t)}}))),!this.hideValueLabels&&this.valueLabels.map(((t,i)=>(i===0||i===this.valueLabels.length-1||!this.hideStopLabels)&&e("div",{class:d(["ld-slider__value-label",i===0&&"ld-slider__value-label--first",i===this.valueLabels.length-1&&"ld-slider__value-label--last"]),key:`value-label-${t}`,part:"value-label",style:{"--now":String(t)}},t,this.unit))))}get el(){return l(this)}static get watchers(){return{max:["updateState"],min:["updateState"],step:["updateState"],stops:["updateState"],value:["handleValueChange"]}}};b.style=o;export{b as ld_slider};
//# sourceMappingURL=p-ff3057ae.entry.js.map